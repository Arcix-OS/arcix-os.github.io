<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Arcix OS — Boot Experience</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
<style>
  :root{
    --bg-0:#040206;
    --bg-1:#07060b;
    --glass: rgba(255,255,255,0.04);
    --muted: #bfc9ff;
    --accent-1: #b78fff;
    --accent-2: #66d6ff;
    --accent-strong:#7a4cff;
    --neon: rgba(183,143,255,0.12);
    --radius:18px;
    --ease: cubic-bezier(.2,.9,.2,1);
  }

  /* Reset */
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{
    font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background: radial-gradient(1200px 600px at 10% 10%, rgba(120,80,200,0.06), transparent 6%),
                radial-gradient(800px 400px at 90% 90%, rgba(60,200,255,0.03), transparent 8%),
                linear-gradient(180deg,var(--bg-0),var(--bg-1));
    color: #e9eefc;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    overflow:hidden;
  }

  /* fullscreen container */
  .stage{
    position:fixed;inset:0;display:flex;align-items:center;justify-content:center;
    padding:32px; gap:28px;flex-direction:column;
  }

  /* glass shell */
  .shell{
    width:min(1100px,92vw);
    height:min(720px,86vh);
    border-radius:20px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(183,143,255,0.06);
    box-shadow: 0 40px 120px rgba(110,64,220,0.08), inset 0 1px 0 rgba(255,255,255,0.02);
    overflow:hidden; position:relative; display:flex; flex-direction:column;
    backdrop-filter: blur(10px) saturate(120%);
  }

  /* top nav area */
  .shell-top{
    height:78px; display:flex; align-items:center; gap:18px; padding:12px 22px;
    border-bottom:1px solid rgba(255,255,255,0.02);
  }
  .brand{
    display:flex;align-items:center;gap:14px;cursor:default;user-select:none;
  }
  .mini{
    width:56px;height:56px;border-radius:12px;padding:10px;
    background: linear-gradient(135deg,#030205,#0a0810);
    border: 1px solid rgba(183,143,255,0.12);
    display:flex;align-items:center;justify-content:center; position:relative; overflow:hidden;
    box-shadow: 0 6px 30px rgba(120,70,220,0.06);
  }
  .mini svg{width:100%;height:100%;filter: drop-shadow(0 10px 40px rgba(120,70,220,0.08))}
  .title{
    font-weight:800;font-size:1.05rem;background:linear-gradient(90deg,var(--accent-1),var(--accent-2));
    -webkit-background-clip:text;background-clip:text;color:transparent;
  }
  .meta{margin-left:auto;color:var(--muted);font-weight:700;font-size:.92rem;opacity:.9}

  /* main boot screen */
  .boot-area{
    flex:1; display:flex; align-items:center; justify-content:center; position:relative;
    padding:28px;
    background:
      radial-gradient(800px 420px at 10% 30%, rgba(120,70,220,0.03), transparent 10%),
      linear-gradient(180deg, rgba(2,2,2,0.7), rgba(6,6,6,0.9));
  }

  /* left: glyph & scan */
  .left{
    width:55%; display:flex; align-items:center; justify-content:center; flex-direction:column; gap:20px;
  }

  .glyph-wrap{
    width:360px;height:360px;border-radius:20px;display:grid;place-items:center;
    transform-style:preserve-3d;
    transition: transform .6s var(--ease);
    position:relative;
  }
  .glyph-card{
    width:86%; height:86%; border-radius:14px; display:grid; place-items:center;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border:1px solid rgba(183,143,255,0.06);
    box-shadow: 0 30px 80px rgba(120,70,220,0.06), inset 0 1px 0 rgba(255,255,255,0.02);
    position:relative; overflow:hidden;
  }
  .glyph-svg{ width:64%; height:64%; filter: drop-shadow(0 28px 64px rgba(120,70,220,0.14)); opacity:0.98}

  /* stroke style */
  .glyph-stroke { stroke: url(#ggrad); stroke-width:3; fill:none; stroke-linecap:round; stroke-linejoin:round; }
  .glyph-glow { filter: blur(6px); opacity:0.32; mix-blend-mode: screen; }

  /* scan and log */
  .scan-wrap{ width:64%; height:12px; border-radius:999px; background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(183,143,255,0.02)); overflow:hidden; }
  .scan-bar{ height:100%; width:10%; background: linear-gradient(90deg,var(--accent-1),var(--accent-2)); transform:translateX(-160%); transition: transform 2.2s linear; will-change:transform; }

  .boot-log{ margin-top:10px; color:var(--muted); font-weight:700; opacity:0; transition:opacity .36s ease; font-size:0.95rem; min-height:28px; text-align:center; }

  /* right: status & terminal */
  .right{
    width:42%; display:flex; flex-direction:column; gap:18px; align-items:stretch; justify-content:center;
  }

  .status-card{
    padding:14px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
    border:1px solid rgba(255,255,255,0.02); font-weight:700; color:var(--muted);
  }

  .terminal{
    background: linear-gradient(180deg, rgba(0,0,0,0.55), rgba(12,10,14,0.6));
    border-radius:12px;padding:14px;border:1px solid rgba(183,143,255,0.04);
    color:#bcd6ff;font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", monospace;
    font-size:0.92rem; min-height:220px; overflow:auto; line-height:1.45;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.02);
  }

  .term-line{opacity:0.0; transform: translateY(6px); transition: all .28s var(--ease); white-space:nowrap;}
  .term-line.visible{ opacity:1; transform: none; }

  .controls{ display:flex; gap:10px; margin-top:6px; align-items:center; justify-content:flex-end; }
  .btn{ padding:8px 12px;border-radius:10px;background:transparent;border:1px solid rgba(183,143,255,0.09); color:var(--muted); font-weight:800; cursor:pointer; }
  .btn.primary{ background:linear-gradient(135deg,var(--accent-1),var(--accent-strong)); color:#001a0f; border:0; box-shadow: 0 10px 36px rgba(120,70,220,0.12) }

  /* particles layer */
  .particles{
    pointer-events:none; position:absolute; inset:0; z-index:8; mix-blend-mode: screen;
  }
  .particle{
    position:absolute; border-radius:50%; width:6px;height:6px; background: linear-gradient(180deg,var(--accent-1),var(--accent-2)); opacity:.6;
    box-shadow:0 0 18px rgba(120,70,220,0.15);
    transform: translateY(0); will-change: transform, opacity;
  }

  /* footer small */
  .shell-foot{ height:48px; display:flex; align-items:center; justify-content:center; color:var(--muted); font-size:0.9rem; border-top:1px solid rgba(255,255,255,0.01); }

  /* utility & responsive */
  .hidden{ display:none }
  @media (max-width:980px){
    .shell{ height:92vh; width:94vw }
    .left{ width:100% }
    .right{ width:100% }
    .boot-area{ padding:18px }
    .glyph-wrap{ width:260px; height:260px }
    .shell-top{ height:64px }
    .mini{ width:44px;height:44px;padding:8px }
  }

  /* reduced motion */
  @media (prefers-reduced-motion: reduce){
    *{ animation-duration:0.01ms !important; transition-duration:0.01ms !important; }
  }

</style>
</head>
<body>
  <div class="stage" role="application" aria-label="Arcix boot cinematic">
    <div class="shell" role="region" aria-label="Arcix boot window">
      <div class="shell-top" role="toolbar" aria-hidden="false">
        <div class="brand" aria-label="Arcix brand">
          <div class="mini" aria-hidden="true">
            <!-- inline logo -->
            <svg viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <defs>
                <linearGradient id="ggrad" x1="0" x2="1">
                  <stop offset="0" stop-color="#b78fff"/>
                  <stop offset="1" stop-color="#66d6ff"/>
                </linearGradient>
              </defs>
              <rect x="10" y="10" width="100" height="100" rx="18" fill="url(#ggrad)"/>
              <circle cx="60" cy="46" r="18" fill="#ffffff" opacity="0.06"/>
              <path d="M38 80c18-28 44-28 64-10" stroke="#ffffff" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round" opacity="0.14"/>
            </svg>
          </div>
          <div class="title">arcix</div>
        </div>
        <div class="meta" aria-hidden="true">development preview • v0.5</div>
      </div>

      <div class="boot-area" role="main" aria-live="polite">
        <div class="left" aria-hidden="false">
          <div class="glyph-wrap" id="glyphWrap" aria-hidden="true">
            <div class="glyph-card" role="img" aria-label="Arcix glyph">
              <!-- main glyph svg (uses same gradient id) -->
              <svg class="glyph-svg" viewBox="0 0 240 240" xmlns="http://www.w3.org/2000/svg" role="presentation" aria-hidden="true">
                <defs>
                  <linearGradient id="ggrad2" x1="0" x2="1">
                    <stop offset="0" stop-color="#b78fff"/>
                    <stop offset="1" stop-color="#66d6ff"/>
                  </linearGradient>
                </defs>
                <g transform="translate(12,12) scale(0.85)">
                  <circle cx="120" cy="120" r="88" stroke="rgba(255,255,255,0.02)" stroke-width="6" fill="none"/>
                  <path class="glyph-stroke" d="M44 120c18-36 54-56 76-56s58 18 76 56" stroke-dasharray="420" stroke-dashoffset="420"/>
                  <path class="glyph-stroke" d="M64 144c18 18 58 26 88 8" stroke-dasharray="300" stroke-dashoffset="300"/>
                  <circle class="glyph-glow" cx="120" cy="120" r="6" fill="url(#ggrad2)"/>
                </g>
              </svg>
            </div>
          </div>

          <div class="scan-wrap" aria-hidden="true" id="scanWrap">
            <div class="scan-bar" id="scanBar" aria-hidden="true"></div>
          </div>

          <div class="boot-log" id="bootLog" aria-hidden="true" role="status" aria-live="polite"></div>
        </div>

        <div class="right" aria-hidden="false">
          <div class="status-card" aria-hidden="true">
            <div style="display:flex;align-items:center;gap:10px;">
              <div style="width:10px;height:10px;border-radius:50%;background:var(--accent-1);box-shadow:0 0 8px rgba(183,143,255,0.25)"></div>
              <div style="font-weight:900;color:var(--accent-1)">Arcix Boot Console</div>
              <div style="flex:1"></div>
              <div style="opacity:.85;font-weight:800">privacy-first • community</div>
            </div>
          </div>

          <div class="terminal" id="terminal" role="log" aria-live="polite">
            <!-- terminal lines injected by JS -->
          </div>

          <div class="controls" aria-hidden="true">
            <button class="btn" id="replayBtn" title="Replay boot">Replay</button>
            <button class="btn primary" id="wakeBtn">Wake Arcix</button>
          </div>
        </div>
        
        <!-- particles layer (inside shell so blend works) -->
        <div class="particles" id="particles" aria-hidden="true"></div>
      </div>

      <div class="shell-foot">Arcix OS • Cinematic boot • 50% charity • 50% maintenance</div>
    </div>
  </div>

<script>
/* ========= OPTIONS ========= */
const LOGS = [
  "Initializing hardware abstraction layer…",
  "Verified secure boot keys…",
  "Mounting encrypted containers…",
  "Loading privacy modules (local-first)…",
  "Preparing Arcix Mind (local assistant)…",
  "Starting background sync (opt-in)…",
  "Restoring workspace layout…",
  "Workspace ready."
];

/* ========= DOM ========= */
const terminal = document.getElementById('terminal');
const glyphPaths = null; // not used directly (we animate by class)
const scanBar = document.getElementById('scanBar');
const scanWrap = document.getElementById('scanWrap');
const bootLog = document.getElementById('bootLog');
const glyphWrap = document.getElementById('glyphWrap');
const wakeBtn = document.getElementById('wakeBtn');
const replayBtn = document.getElementById('replayBtn');
const particlesRoot = document.getElementById('particles');

/* ========= helpers ========= */
const rand = (a,b) => Math.random()*(b-a)+a;
const createEl = (tag, cls, txt) => { const e = document.createElement(tag); if(cls) e.className = cls; if(txt) e.textContent = txt; return e; };

/* ========= terminal simulation ========= */
let booting = false;
function clearTerminal(){
  terminal.innerHTML = '';
  bootLog.textContent = '';
  scanBar.style.transform = 'translateX(-160%)';
  scanWrap.style.opacity = '0';
  glyphWrap.style.transform = 'scale(.98)';
}

function pushTerminalLine(text, delay = 0){
  const line = createEl('div','term-line', text);
  terminal.appendChild(line);
  // give slight delay to reveal animation
  setTimeout(()=> line.classList.add('visible'), 40 + delay);
  // keep terminal scrolled
  setTimeout(()=> terminal.scrollTop = terminal.scrollHeight, 80 + delay);
}

/* glyph stroke animation */
function animateGlyphStrokes(){
  // select stroke paths
  const paths = document.querySelectorAll('.glyph-stroke');
  paths.forEach((p,i) => {
    try{
      const len = p.getTotalLength();
      p.style.strokeDasharray = len;
      p.style.strokeDashoffset = len;
      // force reflow
      p.getBoundingClientRect();
      setTimeout(()=> p.style.transition = `stroke-dashoffset 1.05s cubic-bezier(.2,.9,.2,1) ${i*0.16}s`, 20);
      requestAnimationFrame(()=> p.style.strokeDashoffset = '0');
    }catch(e){}
  });
}

/* main boot sequence */
function startBoot(){
  if(booting) return;
  booting = true;
  wakeBtn.disabled = true;
  replayBtn.disabled = true;
  clearTerminal();

  // glyph reveal
  glyphWrap.style.opacity = '1';
  glyphWrap.style.transform = 'scale(1) translateZ(0)';

  animateGlyphStrokes();

  // Type terminal lines with stagger
  let t = 600;
  scanWrap.style.opacity = '1';
  scanBar.style.transform = 'translateX(420%)';
  pushTerminalLine("Arcix kernel initializing…", 0);

  LOGS.forEach((l, idx) => {
    setTimeout(()=> {
      pushTerminalLine("> " + l);
      // update bootLog for accessible status
      bootLog.style.opacity = '1';
      bootLog.textContent = l;
    }, t + idx * 700);
  });

  // second stage: animate scan bar
  setTimeout(()=> {
    scanBar.style.transition = 'transform 1.6s linear';
    scanBar.style.transform = 'translateX(-20%)';
  }, t + 700);

  // finish sequence and enter looped visual state
  const finishAt = t + LOGS.length * 700 + 1200;
  setTimeout(()=> {
    // final state
    bootLog.textContent = "Workspace ready.";
    // shrink glyph slightly for pleasing composition
    glyphWrap.style.transform = 'scale(.64) translateY(-22px)';
    // fade scan
    scanWrap.style.opacity = '0';
    // terminal keep last lines visible
    pushTerminalLine("> Arcix online — enjoy the cinematic experience");
    // enable controls
    wakeBtn.disabled = false;
    replayBtn.disabled = false;
    booting = false;
  }, finishAt);
}

/* replay */
replayBtn.addEventListener('click', () => {
  startBoot();
});

/* wake button */
wakeBtn.addEventListener('click', () => {
  startBoot();
});

/* keyboard replay (space) */
window.addEventListener('keydown', (e) => {
  if(e.code === 'Space'){ e.preventDefault(); startBoot(); }
});

/* auto-run on load */
window.addEventListener('load', () => {
  // small delay for cinematic
  setTimeout(startBoot, 420);
  // init particles
  spawnParticles();
});

/* ========== Particles (flowing) ========== */
let particleIds = [];
function spawnParticles(){
  const count = Math.max(20, Math.min(80, Math.floor(window.innerWidth / 12)));
  const frag = document.createDocumentFragment();
  for(let i=0;i<count;i++){
    const p = createEl('div','particle');
    const size = Math.round(rand(2,9));
    p.style.width = p.style.height = size + 'px';
    p.style.left = (rand(-5,105)).toFixed(2) + '%';
    p.style.top  = (rand(0,100)).toFixed(2) + '%';
    p.style.opacity = (rand(0.06,0.7)).toFixed(2);
    p.style.transform = `translateY(${rand(0,80)}vh) scale(${rand(0.4,1.1)})`;
    frag.appendChild(p);
    animateParticle(p, i);
  }
  particlesRoot.appendChild(frag);
}

function animateParticle(el, idx){
  // each particle will float along a bezier (simulated via translate)
  const dur = rand(8000,18000);
  const delay = rand(0,6000);
  el.animate([
    { transform: `translateY(${rand(20,120)}vh) translateX(0)`, opacity: el.style.opacity },
    { transform: `translateY(-40vh) translateX(${rand(-12,12)}vw)`, opacity: 0.05 }
  ], {
    duration: dur,
    delay: delay,
    iterations: Infinity,
    easing: 'linear'
  });
}

/* ========== reduced motion handling ========== */
(function reduceMotion(){
  const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
  if(mq.matches){
    // stop CSS transitions by setting small durations (some already handled by CSS media)
    document.querySelectorAll('.particle').forEach(p => p.style.animation = 'none');
  }
})();

/* keep layout responsive: reset particles on resize */
let _resizeTimer = null;
window.addEventListener('resize', () => {
  clearTimeout(_resizeTimer);
  _resizeTimer = setTimeout(()=> {
    // clear existing particles and respawn
    particlesRoot.innerHTML = '';
    spawnParticles();
  }, 200);
});

/* ensure terminal scroll area stays near bottom as lines added */
const observer = new MutationObserver(() => { terminal.scrollTop = terminal.scrollHeight; });
observer.observe(terminal, { childList: true });

</script>
</body>
</html>
